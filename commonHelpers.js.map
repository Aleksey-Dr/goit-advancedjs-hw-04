{"version":3,"file":"commonHelpers.js","sources":["../src/partials/js/fetchGallery.js","../src/partials/js/renderCards.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nimport { KEY_TO_API } from '../../main';\n\n// Add default value of a current page 'page='\nlet currentPage = 1;\n\n// Add asynchronous function\nexport async function fetchGallery(term) {\n    // Add URL to Pixabay\n    // Parts URL\n    const frontURL = 'https://pixabay.com/api/?key=';\n    const betweenURL = '&q=';\n    // Add per_page=40 for change default value of quantity items in response\n    const backURL = '&image_type=photo&orientation=horizontal&safesearch=true&per_page=40&page=';\n    // Complete URL\n    const url = frontURL + KEY_TO_API + betweenURL + term + backURL + currentPage;\n  \n    const response = await axios(url);\n    const images = await response.data;\n    \n    // Change page of response\n    currentPage += 1;\n    console.log(images);\n    return images;\n}\n\n// Function for rest a page by new search\nexport function restartPage() {\n  currentPage = 1;\n}","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { refs } from '../../main';\n\nconst lightbox = new SimpleLightbox('.gallery a');\n\n// Add function for rendering markup when found images\nexport function renderCards(images) {\n  // Test by empty\n  if (images.totalHits !== 0) {\n    const markup = images.hits\n      .map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => {\n        return `<div class=\"photo-card\">\n                  <a href=\"${largeImageURL}\">\n                    <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\"/>\n                    <div class=\"info\">\n                      <p class=\"info-item\">\n                        <b>Likes</b>\n                        ${likes}\n                      </p>\n                      <p class=\"info-item\">\n                        <b>Views</b>\n                        ${views}\n                      </p>\n                      <p class=\"info-item\">\n                        <b>Comments</b>\n                        ${comments}\n                      </p>\n                      <p class=\"info-item\">\n                        <b>Downloads</b>\n                        ${downloads}\n                      </p>\n                    </div>\n                  </a>\n                </div>`;\n      })\n      .join('');\n    refs.galleryImages.insertAdjacentHTML('beforeend', markup);\n    refs.loadMoreBtn.classList.remove('is-hidden');\n    lightbox.refresh();\n    iziToast.show({\n      backgroundColor: 'lightgreen',\n      message: `Hooray! We found ${images.totalHits} images.`,\n      timeout: 3000,\n      position: 'topRight',\n      transitionIn: 'flipInX',\n      transitionOut: 'flipOutX',\n    });\n  } else {\n    refs.loadMoreBtn.classList.add('is-hidden');\n    iziToast.show({\n      backgroundColor: '#FD4A3F',\n      message:\n        'Sorry, there are no images matching your search query. Please try again.',\n      timeout: 3000,\n      position: 'topRight',\n      transitionIn: 'flipInX',\n      transitionOut: 'flipOutX',\n    });\n  }\n};","// Import styles\nimport './css/styles.css';\n// Import fetchGallery\nimport { fetchGallery, restartPage } from './partials/js/fetchGallery.js';\nimport { renderCards } from './partials/js/renderCards.js';\n\n// Add/find elements from html\n// Create object with elements\nexport const refs = {\n    searchForm: document.querySelector('.search-form'),\n    galleryImages: document.querySelector('.gallery'),\n    loadMoreBtn: document.querySelector('.load-more'),\n};\n\n// Add class to the element loadMoreBtn for hiddening\nrefs.loadMoreBtn.classList.add('is-hidden');\n\n// Personal key for Pixabay API\nexport const KEY_TO_API = '35129314-12d9f6cafbe4df38ad9bc5f6b';\n\n// Add default value\nlet valueTermImages = '';\n\n// ========== listeners\n// Add listeners by \"submit\" for form wiht function fetchImages(term) in callback\nrefs.searchForm.addEventListener('submit', searchImages);\n// Add listeners by \"click\" for button \"Load more\" wiht function onLoadMore() in callback\nrefs.loadMoreBtn.addEventListener('click', onLoadMore);\n\n// ========== function searchImages\nfunction searchImages(evt) {\n    refs.loadMoreBtn.classList.add('is-hidden');\n    // stop reboot page\n    evt.preventDefault();\n    // Add clear gallary by submit\n    clearGallery();\n    // Constant for a inputed term (for serach images)\n    // Add method trim()\n    const termImages = evt.currentTarget.elements.searchQuery.value.trim();\n    console.log(termImages);\n    \n    if (valueTermImages !== termImages) {\n        // Add function for reset page by new termImages\n        restartPage();\n    }\n    valueTermImages = termImages;\n\n    fetchGallery(termImages)\n        .then(renderCards)\n        .catch(error => console.log(error));\n}\n\nfunction onLoadMore() {\n  fetchGallery(valueTermImages).then(renderCards);\n}\n\nfunction clearGallery() {\n  refs.galleryImages.innerHTML = '';\n}"],"names":["currentPage","fetchGallery","term","frontURL","betweenURL","backURL","url","KEY_TO_API","images","axios","restartPage","lightbox","SimpleLightbox","renderCards","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","refs","iziToast","valueTermImages","searchImages","onLoadMore","evt","clearGallery","termImages","error"],"mappings":"owBAKA,IAAIA,EAAc,EAGX,eAAeC,EAAaC,EAAM,CAGrC,MAAMC,EAAW,gCACXC,EAAa,MAEbC,EAAU,6EAEVC,EAAMH,EAAWI,EAAaH,EAAaF,EAAOG,EAAUL,EAG5DQ,EAAS,MADE,MAAMC,EAAMH,CAAG,GACF,KAG9B,OAAAN,GAAe,EACf,QAAQ,IAAIQ,CAAM,EACXA,CACX,CAGO,SAASE,GAAc,CAC5BV,EAAc,CAChB,CCtBA,MAAMW,EAAW,IAAIC,EAAe,YAAY,EAGzC,SAASC,EAAYL,EAAQ,CAElC,GAAIA,EAAO,YAAc,EAAG,CAC1B,MAAMM,EAASN,EAAO,KACnB,IAAI,CAAC,CAAE,aAAAO,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,KAC1D;AAAA,6BACcL;AAAA,gCACGD,WAAsBE;AAAA;AAAA;AAAA;AAAA,0BAI5BC;AAAA;AAAA;AAAA;AAAA,0BAIAC;AAAA;AAAA;AAAA;AAAA,0BAIAC;AAAA;AAAA;AAAA;AAAA,0BAIAC;AAAA;AAAA;AAAA;AAAA,uBAKnB,EACA,KAAK,EAAE,EACVC,EAAK,cAAc,mBAAmB,YAAaR,CAAM,EACzDQ,EAAK,YAAY,UAAU,OAAO,WAAW,EAC7CX,EAAS,QAAO,EAChBY,EAAS,KAAK,CACZ,gBAAiB,aACjB,QAAS,oBAAoBf,EAAO,oBACpC,QAAS,IACT,SAAU,WACV,aAAc,UACd,cAAe,UACrB,CAAK,CACL,MACIc,EAAK,YAAY,UAAU,IAAI,WAAW,EAC1CC,EAAS,KAAK,CACZ,gBAAiB,UACjB,QACE,2EACF,QAAS,IACT,SAAU,WACV,aAAc,UACd,cAAe,UACrB,CAAK,CAEL,CCxDO,MAAMD,EAAO,CAChB,WAAY,SAAS,cAAc,cAAc,EACjD,cAAe,SAAS,cAAc,UAAU,EAChD,YAAa,SAAS,cAAc,YAAY,CACpD,EAGAA,EAAK,YAAY,UAAU,IAAI,WAAW,EAGnC,MAAMf,EAAa,qCAG1B,IAAIiB,EAAkB,GAItBF,EAAK,WAAW,iBAAiB,SAAUG,CAAY,EAEvDH,EAAK,YAAY,iBAAiB,QAASI,CAAU,EAGrD,SAASD,EAAaE,EAAK,CACvBL,EAAK,YAAY,UAAU,IAAI,WAAW,EAE1CK,EAAI,eAAc,EAElBC,IAGA,MAAMC,EAAaF,EAAI,cAAc,SAAS,YAAY,MAAM,OAChE,QAAQ,IAAIE,CAAU,EAElBL,IAAoBK,GAEpBnB,IAEJc,EAAkBK,EAElB5B,EAAa4B,CAAU,EAClB,KAAKhB,CAAW,EAChB,MAAMiB,GAAS,QAAQ,IAAIA,CAAK,CAAC,CAC1C,CAEA,SAASJ,GAAa,CACpBzB,EAAauB,CAAe,EAAE,KAAKX,CAAW,CAChD,CAEA,SAASe,GAAe,CACtBN,EAAK,cAAc,UAAY,EACjC"}